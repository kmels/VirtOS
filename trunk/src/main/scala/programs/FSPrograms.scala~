package programs

import java.io.File
import core.{OperatingSystem,FileControlBlock,outputMethod}

class ls(os:OperatingSystem,absolutePath:String,outputObject:outputMethod) extends system_program {
    val programName = "ls"
    val number_of_max_params = 0
    val output = outputObject

    def exec():Unit = {
      val listOfFiles:List[FileControlBlock] = os.fs.getDirectoryContents(absolutePath)
      listOfFiles.foreach(fcb => output.println(fcb.getName))
    }
}

class pwd(path:String,outputObject:outputMethod) extends system_program{
  val programName = "pwd"
  val number_of_max_params = 0
  val output = outputObject
  
  def exec:Unit ={
    output.println(path)
  }
}

class mkdir(os:OperatingSystem,currentDir:String,name:String,outputObject:outputMethod) extends system_program{
  val programName = "mkdir"
  val number_of_max_params = 1
  val output = outputObject

  def exec:Unit = {
    os.fs.placeDirectory(currentDir,name)   
  }
}

class lsFCB(os:OperatingSystem,outputObject:outputMethod) extends system_program{
  val programName = "lsFCB"
  val number_of_max_params = 0
  val output = outputObject

  def exec:Unit = {
    os.fs.fcbDirectory.FCBs.foreach(println _)
  }
}
